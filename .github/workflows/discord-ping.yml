name: Admin Auto Ping âœ¨

on:
  schedule:
    - cron: "0 * * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord ping
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        run: |
          HOUR=$(TZ=America/New_York date +%H)

          if [ "$HOUR" = "08" ]; then
            MESSAGE="ğŸŒ¸ Admin Coverage (8â€“9 ET) ğŸŒ¸ | VP: Dev | Active: Dreamy"
          elif [ "$HOUR" = "09" ]; then
            MESSAGE="â˜ï¸ Admin Coverage (9â€“10 ET) â˜ï¸ | VP: Dev | Active: Kat"
          elif [ "$HOUR" = "10" ]; then
            MESSAGE="ğŸŒˆ Admin Coverage (10â€“11 ET) ğŸŒˆ | VP: Dev | Active: Raina"
          elif [ "$HOUR" = "13" ]; then
            MESSAGE="ğŸŒ¼ Admin Coverage (1â€“2 ET) ğŸŒ¼ | VP: Rae | Trial: Yousra"
          elif [ "$HOUR" = "15" ]; then
            MESSAGE="ğŸƒ Admin Coverage (3â€“4 ET) ğŸƒ | VP: Dev | Trial: Rishi"
          else
            exit 0
          fi

          curl -H "Content-Type: application/json" \
            -d "{\"content\":\"$MESSAGE\"}" \
            $DISCORD_WEBHOOK
