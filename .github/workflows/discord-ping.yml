name: Admin Auto Ping âœ¨

on:
  schedule:
    - cron: "0 * * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord ping
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        run: |
          HOUR=$(TZ=America/New_York date +%H)
          MESSAGE=""

          case "$HOUR" in
            08)
              MESSAGE="ğŸŒ¸ **Morning Admin Coverage** ğŸŒ¸\nğŸ›¡ï¸ <@&ROLE_ID> Dev (VP)\nğŸ‘¤ Dreamy"
              ;;
            09)
              MESSAGE="â˜ï¸ **Admin Coverage** â˜ï¸\nğŸ›¡ï¸ <@&ROLE_ID> Dev (VP)\nğŸ‘¤ Kat"
              ;;
            10)
              MESSAGE="ğŸŒˆ **Admin Coverage** ğŸŒˆ\nğŸ›¡ï¸ <@&ROLE_ID> Dev (VP)\nğŸ‘¤ Raina"
              ;;
            13)
              MESSAGE="ğŸŒ¼ **Admin Coverage** ğŸŒ¼\nğŸ›¡ï¸ <@&ROLE_ID> Rae (VP)\nğŸ§ª Yousra (Trial)"
              ;;
            15)
              MESSAGE="ğŸƒ **Admin Coverage** ğŸƒ\nğŸ›¡ï¸ <@&ROLE_ID> Dev (VP)\nğŸ§ª Rishi (Trial)"
              ;;
          esac

          if [ -n "$MESSAGE" ]; then
            curl -H "Content-Type: application/json" \
            -d "{\"content\":\"$MESSAGE\"}" \
            $DISCORD_WEBHOOK
          fi
